<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>添加数据</title>
  <link rel="stylesheet" href="./layui-v2.4.5/layui/css/layui.css">
  <script type="text/javascript" src="./layui-v2.4.5/layui/layui.js"></script>
  <script type="text/javascript" src="./login/js/common.js"></script>
  <script type="text/javascript" src="./login/js/jquery-1.10.1.min.js"></script>
  <style type="text/css">
    .layui-nav {
      margin-bottom: 20px;
    }
  </style>

<body>
  <!-- 导航条 -->
  <ul class="layui-nav" lay-filter="">
    <li class="layui-nav-item layui-this"><a href="http://localhost:3000/src/userInfo.html">添加信息</a></li>
    <li class="layui-nav-item"><a href="http://localhost:3000/src/manage.html">大数据</a></li>
    <li class="layui-nav-item"><a href="http://localhost:3000/src/change.html">数据修改</a></li>
    <li class="layui-nav-item">
      <a href="javascript:;">个人经历</a>
      <dl class="layui-nav-child">
        <!-- 二级菜单 -->
        <dd><a href="">移动模块</a></dd>
        <dd><a href="">后台模版</a></dd>
        <dd><a href="">电商平台</a></dd>
      </dl>
    </li>
    <li class="layui-nav-item"><a href="http://localhost:3000">数据</a></li>
  </ul>


  <form class="layui-form" action="">
    <div class="layui-form-item">
      <label class="layui-form-label">用户名</label>
      <div class="layui-input-block">
        <input type="text" name="title" required lay-verify="required" placeholder="请输入名字" autocomplete="off"
          class="layui-input userName">
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">积分</label>
      <div class="layui-input-block">
        <input type="text" name="title" required lay-verify="required" placeholder="请输入积分" autocomplete="off"
          class="layui-input marks">
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">评分</label>
      <div class="layui-input-block">
        <input type="text" name="title" required lay-verify="required" placeholder="请输入评分" autocomplete="off"
          class="layui-input comment">
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">职业</label>
      <div class="layui-input-block">
        <input type="text" name="title" required lay-verify="required" placeholder="请输入职业" autocomplete="off"
          class="layui-input job">
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">地区</label>
      <div class="layui-input-inline">
        <input type="text" required lay-verify="required" placeholder="请输入地区" autocomplete="off"
          class="layui-input diqu">
      </div>
      <!-- <div class="layui-form-mid layui-word-aux">辅助文字</div> -->
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">城市</label>
      <div class="layui-input-block">
        <select name="city" lay-verify="required">
          <option value=""></option>
          <option value="0">北京</option>
          <option value="1">上海</option>
          <option value="2">广州</option>
          <option value="3">深圳</option>
          <option value="5">杭州</option>
          <option value="6">苏州</option>
          <option value="7">湛江</option>
          <option value="8">湖南</option>
        </select>
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">爱好</label>
      <div class="layui-input-block">
        <input type="checkbox" name="like[write]" title="写作">
        <input type="checkbox" name="like[read]" title="阅读" checked>
        <input type="checkbox" name="like[dai]" title="发呆">
      </div>
    </div>
    <!--       <div class="layui-form-item">
      <label class="layui-form-label">开关</label>
        <div class="layui-input-block">
            <input type="checkbox" name="switch" lay-skin="switch">
        </div>
      </div> -->
    <div class="layui-form-item">
      <label class="layui-form-label">单选框</label>
      <div class="layui-input-block">
        <input type="radio" name="sex" value="男" title="男">
        <input type="radio" name="sex" value="女" title="女" checked>
      </div>
    </div>
    <div class="layui-form-item layui-form-text">
      <label class="layui-form-label">财富</label>
      <div class="layui-input-block">
        <input type="text" name="desc" placeholder="请输入财富" class="layui-textarea">
      </div>
    </div>
    <div class="layui-form-item">
      <div class="layui-input-block">
        <button class="layui-btn" lay-submit lay-filter="formDemo">确认添加</button>
        <button type="reset" class="layui-btn layui-btn-primary">重置</button>
      </div>
    </div>
  </form>
  <script>
    //Demo
    layui.use('form', function () {
      var form = layui.form;

      //监听提交
      form.on('submit(formDemo)', function (data) {
        layer.msg(JSON.stringify(data.field));
        return false;
      });
    });
  </script>
  <script type="text/javascript">
    $(function () {

      // 点击提交的时候，获取所有值，发起ajax请求，
      $('.layui-btn').on('click', function () {
        let userName = $('.userName').val();
        let diqu = $('.diqu').val();
        let marks = $('.marks').val();
        let comment = $('.comment').val();
        let job = $('.job').val();
        // let city = $('.layui-select-tips').children('layui-this').html();
        let sex = $('.layui-form-radioed').children('div').html();
        let wealth = $('.layui-textarea').val();

        console.log(job, comment, marks)


        let data = 'name=' + userName + '&diqu=' + diqu + '&sex=' + sex + '&wealth=' + wealth + '&marks=' +
          marks + '&comment=' + comment + '&job=' + job;
        ajax('post', 'http://localhost:3000/zsgc/userInfo', data, function (str) {
          console.log(str)
        });

      })




    })
  </script>

</body>

</html>